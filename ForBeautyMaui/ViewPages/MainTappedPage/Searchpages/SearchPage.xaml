<?xml version="1.0" encoding="UTF-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:renders="clr-namespace:ForBeauty.Renders"
    x:Class="ForBeautyMaui.ViewPages.MainTappedPage.SearchPage"
    NavigationPage.HasNavigationBar="False"
    NavigationPage.BackButtonTitle="">
    <ContentPage.Content>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>

            </Grid.RowDefinitions>

       
 <StackLayout Grid.Row="0" Spacing="0" FlowDirection="RightToLeft" Margin="0,50,0,0" >
               <Frame HasShadow="False" Padding="0" Grid.Column="1" CornerRadius="0" BackgroundColor="#E4E4E4" Margin="10,10,10,5" >
             <renders:BorderLessEntry x:Name="searchEntry3" Placeholder="🔍 البحث   " ReturnType="Search" Margin="0,0,10,0" FontFamily="times"
                                     
                                     
            HeightRequest="30"/>
         </Frame>
            <BoxView HeightRequest="1" BackgroundColor="#D4D4D4" VerticalOptions="EndAndExpand" Margin="0,0,0,5"/>
        
            <StackLayout BackgroundColor="Transparent" FlowDirection="RightToLeft">
                <CollectionView ItemsSource="{Binding ListCategorySource}"
                                SelectionMode="Single"
                                SelectedItem="{Binding ListCategorySelectedItem, Mode=TwoWay}">
                    <CollectionView.ItemsLayout>
                        <GridItemsLayout Orientation="Vertical" Span="1" VerticalItemSpacing="0" />
                    </CollectionView.ItemsLayout>
                    <CollectionView.ItemTemplate >
                        <DataTemplate>
                                <StackLayout Padding="10,0,10,7" BackgroundColor="White" >       
                            <Frame Padding="0"  CornerRadius="10" HasShadow="False" BackgroundColor="#F7F3F0" BorderColor="#F7F3F0">
            <StackLayout Orientation="Horizontal"  FlowDirection="RightToLeft" VerticalOptions="Center" BackgroundColor="Transparent" Padding="4">
                <Image Source="{Binding ImageUrl}" HeightRequest="90" WidthRequest="90" Aspect="AspectFit" />
                <Label Text="{Binding CategoryName}"  VerticalOptions="Center" HorizontalOptions="Start" FontFamily="times" FontSize="20"/>
                <Image Source="next" VerticalOptions="Center" HorizontalOptions="EndAndExpand" HeightRequest="12" WidthRequest="12" Aspect="AspectFill" Margin="15,0,0,0"/>
            </StackLayout>
        </Frame>
                         </StackLayout>                          
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                                    <CollectionView.Footer>
                                        
                                        <StackLayout ScaleX="-1" ScaleY="1"  >
                                      <StackLayout Padding="10,0,10,1" BackgroundColor="White"  >       
                            <Frame Padding="0"  CornerRadius="10" HasShadow="False" BackgroundColor="#F7F3F0" BorderColor="#F7F3F0" >
            <StackLayout Orientation="Horizontal"   VerticalOptions="Center" BackgroundColor="Transparent" Padding="4">
                <Image Source="hotsale" HeightRequest="90" WidthRequest="90" Aspect="AspectFit" />
                <Label Text="التخفيضات"  VerticalOptions="Center" HorizontalOptions="Start" FontFamily="times" FontSize="20"/>
                <Image Source="next" VerticalOptions="Center" HorizontalOptions="EndAndExpand" HeightRequest="12" WidthRequest="12" Aspect="AspectFill" Margin="15,0,0,0"/>
            </StackLayout>
                                                    <Frame.GestureRecognizers>
                                                        <TapGestureRecognizer x:Name="TapSearchDiscount" Command="{Binding CommandTapDiscount}" />
                                                    </Frame.GestureRecognizers>
        </Frame>
                         </StackLayout>
                                             <StackLayout Padding="10,0,10,0" BackgroundColor="White" >       
                            <Frame Padding="0"  CornerRadius="10" HasShadow="False" BackgroundColor="#F7F3F0" BorderColor="#F7F3F0">
            <StackLayout Orientation="Horizontal"  FlowDirection="RightToLeft" VerticalOptions="Center" BackgroundColor="Transparent" Padding="4">
               <Image Source="NewIn" HeightRequest="90" WidthRequest="90" Aspect="AspectFit" />
                <Label Text="جديد لدينا"  VerticalOptions="Center" HorizontalOptions="Start" FontFamily="times" FontSize="20"/>
                <Image Source="next" VerticalOptions="Center" HorizontalOptions="EndAndExpand" HeightRequest="12" WidthRequest="12" Aspect="AspectFill" Margin="15,0,0,0"/>
            </StackLayout>
                                                    <Frame.GestureRecognizers>
                                                        <TapGestureRecognizer x:Name="TapSearchNewIn" />

                                                    </Frame.GestureRecognizers>
        </Frame>
                                                <StackLayout HeightRequest="10">


                                                </StackLayout>
                         </StackLayout>
                                            </StackLayout>
                                 </CollectionView.Footer>

                                  
                </CollectionView>
            </StackLayout>
        </StackLayout>
             <Grid x:Name="GridLoaderSearchPage" Grid.Row="0" Margin="0,60,0,0" IsVisible="{Binding SearchLoaderVisiblity }" BackgroundColor="White" FlowDirection="RightToLeft">

                 <!--StackLayout Spacing="13" VerticalOptions="FillAndExpand">
                    <BoxView BackgroundColor="#E9E9E8" HeightRequest="30" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" HorizontalOptions="FillAndExpand" Margin="10,0,10,0"/>
                                <StackLayout Spacing="8" VerticalOptions="FillAndExpand">
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White"  VerticalOptions="FillAndExpand" CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand" CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand"  CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand"  CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand"  CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand"  CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand"  CornerRadius="10" Margin="12,0,10,0"/>
                                    <BoxView BackgroundColor="#E9E9E8" ske:Skeleton.Animation="Fade" ske:Skeleton.IsParent="True" ske:Skeleton.IsBusy="True" ske:Skeleton.BackgroundColor="White" VerticalOptions="FillAndExpand"  CornerRadius="10" Margin="12,0,10,0"/>

                                </StackLayout>
                    



                        
                 </StackLayout-->
             </Grid>
            </Grid>
        </ContentPage.Content>
</ContentPage>

